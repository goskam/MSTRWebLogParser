!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.X2JS=e()}(this,function(){return function(t){function e(){void 0===t.escapeMode&&(t.escapeMode=!0),t.attributePrefix=t.attributePrefix||"_",t.arrayAccessForm=t.arrayAccessForm||"none",t.emptyNodeForm=t.emptyNodeForm||"text",void 0===t.enableToStringFunc&&(t.enableToStringFunc=!0),t.arrayAccessFormPaths=t.arrayAccessFormPaths||[],void 0===t.skipEmptyTextNodesForObj&&(t.skipEmptyTextNodesForObj=!0),void 0===t.stripWhitespaces&&(t.stripWhitespaces=!0),t.datetimeAccessFormPaths=t.datetimeAccessFormPaths||[],void 0===t.useDoubleQuotes&&(t.useDoubleQuotes=!1),t.xmlElementsFilter=t.xmlElementsFilter||[],t.jsonPropertiesFilter=t.jsonPropertiesFilter||[],void 0===t.keepCData&&(t.keepCData=!1)}function n(){}function r(t){var e=t.localName;return null==e&&(e=t.baseName),null!=e&&""!=e||(e=t.nodeName),e}function o(t){return t.prefix}function i(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):t}function s(t,e,n,r){for(var o=0;o<t.length;o++){var i=t[o];if("string"==typeof i){if(i==r)break}else if(i instanceof RegExp){if(i.test(r))break}else if("function"==typeof i&&i(e,n,r))break}return o!=t.length}function a(e,n,r){switch(t.arrayAccessForm){case"property":e[n]instanceof Array?e[n+"_asArray"]=e[n]:e[n+"_asArray"]=[e[n]]}!(e[n]instanceof Array)&&t.arrayAccessFormPaths.length>0&&s(t.arrayAccessFormPaths,e,n,r)&&(e[n]=[e[n]])}function l(t){var e=t.split(/[-T:+Z]/g),n=new Date(e[0],e[1]-1,e[2]),r=e[5].split(".");if(n.setHours(e[3],e[4],r[0]),r.length>1&&n.setMilliseconds(r[1]),e[6]&&e[7]){var o=60*e[6]+Number(e[7]),i=/\d\d-\d\d:\d\d$/.test(t)?"-":"+";o=0+("-"==i?-1*o:o),n.setMinutes(n.getMinutes()-o-n.getTimezoneOffset())}else t.indexOf("Z",t.length-1)!==-1&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function c(e,n,r){if(t.datetimeAccessFormPaths.length>0){var o=r.split(".#")[0];return s(t.datetimeAccessFormPaths,e,n,o)?l(e):e}return e}function u(e,n,r,o){return!(n==w.ELEMENT_NODE&&t.xmlElementsFilter.length>0)||s(t.xmlElementsFilter,e,r,o)}function d(e,n){if(e.nodeType==w.DOCUMENT_NODE){for(var i=new Object,s=e.childNodes,l=0;l<s.length;l++){var h=s.item(l);if(h.nodeType==w.ELEMENT_NODE){var f=r(h);i[f]=d(h,f)}}return i}if(e.nodeType==w.ELEMENT_NODE){var i=new Object;i.__cnt=0;for(var s=e.childNodes,l=0;l<s.length;l++){var h=s.item(l),f=r(h);if(h.nodeType!=w.COMMENT_NODE){var p=n+"."+f;u(i,h.nodeType,f,p)&&(i.__cnt++,null==i[f]?(i[f]=d(h,p),a(i,f,p)):(null!=i[f]&&(i[f]instanceof Array||(i[f]=[i[f]],a(i,f,p))),i[f][i[f].length]=d(h,p)))}}for(var g=0;g<e.attributes.length;g++){var m=e.attributes.item(g);i.__cnt++,i[t.attributePrefix+m.name]=m.value}var v=o(e);return null!=v&&""!=v&&(i.__cnt++,i.__prefix=v),null!=i["#text"]&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),t.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],"property"==t.arrayAccessForm&&delete i["#text_asArray"],i.__text=c(i.__text,f,n+"."+f)),null!=i["#cdata-section"]&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],"property"==t.arrayAccessForm&&delete i["#cdata-section_asArray"]),0==i.__cnt&&"text"==t.emptyNodeForm?i="":1==i.__cnt&&null!=i.__text?i=i.__text:1!=i.__cnt||null==i.__cdata||t.keepCData?i.__cnt>1&&null!=i.__text&&t.skipEmptyTextNodesForObj&&(t.stripWhitespaces&&""==i.__text||""==i.__text.trim())&&delete i.__text:i=i.__cdata,delete i.__cnt,!t.enableToStringFunc||null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),i}if(e.nodeType==w.TEXT_NODE||e.nodeType==w.CDATA_SECTION_NODE)return e.nodeValue}function h(e,n,r,o){var s="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+n;if(null!=r)for(var a=0;a<r.length;a++){var l=r[a],c=e[l];t.escapeMode&&(c=i(c)),s+=" "+l.substr(t.attributePrefix.length)+"=",s+=t.useDoubleQuotes?'"'+c+'"':"'"+c+"'"}return s+=o?"/>":">"}function f(t,e){return"</"+(null!=t.__prefix?t.__prefix+":":"")+e+">"}function p(t,e){return t.indexOf(e,t.length-e.length)!==-1}function g(e,n){return!!("property"==t.arrayAccessForm&&p(n.toString(),"_asArray")||0==n.toString().indexOf(t.attributePrefix)||0==n.toString().indexOf("__")||e[n]instanceof Function)}function m(t){var e=0;if(t instanceof Object)for(var n in t)g(t,n)||e++;return e}function v(e,n,r){return 0==t.jsonPropertiesFilter.length||""==r||s(t.jsonPropertiesFilter,e,n,r)}function _(e){var n=[];if(e instanceof Object)for(var r in e)r.toString().indexOf("__")==-1&&0==r.toString().indexOf(t.attributePrefix)&&n.push(r);return n}function y(e){var n="";return null!=e.__cdata&&(n+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(n+=t.escapeMode?i(e.__text):e.__text),n}function x(e){var n="";return e instanceof Object?n+=y(e):null!=e&&(n+=t.escapeMode?i(e):e),n}function b(t,e){return""===t?e:t+"."+e}function E(t,e,n,r){var o="";if(0==t.length)o+=h(t,e,n,!0);else for(var i=0;i<t.length;i++)o+=h(t[i],e,_(t[i]),!1),o+=T(t[i],b(r,e)),o+=f(t[i],e);return o}function T(t,e){var n="",r=m(t);if(r>0)for(var o in t)if(!g(t,o)&&(""==e||v(t,o,b(e,o)))){var i=t[o],s=_(i);if(null==i||void 0==i)n+=h(i,o,s,!0);else if(i instanceof Object)if(i instanceof Array)n+=E(i,o,s,e);else if(i instanceof Date)n+=h(i,o,s,!1),n+=i.toISOString(),n+=f(i,o);else{var a=m(i);a>0||null!=i.__text||null!=i.__cdata?(n+=h(i,o,s,!1),n+=T(i,b(e,o)),n+=f(i,o)):n+=h(i,o,s,!0)}else n+=h(i,o,s,!1),n+=x(i),n+=f(i,o)}return n+=x(t)}var $="1.2.0";t=t||{},e(),n();var w={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(t){var e=window.ActiveXObject||"ActiveXObject"in window;if(void 0===t)return null;var n;if(window.DOMParser){var r=new window.DOMParser,o=null;if(!e)try{o=r.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(t){o=null}try{n=r.parseFromString(t,"text/xml"),null!=o&&n.getElementsByTagNameNS(o,"parsererror").length>0&&(n=null)}catch(t){n=null}}else 0==t.indexOf("<?")&&(t=t.substr(t.indexOf("?>")+2)),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t);return n},this.asArray=function(t){return void 0===t||null==t?[]:t instanceof Array?t:[t]},this.toXmlDateTime=function(t){return t instanceof Date?t.toISOString():"number"==typeof t?new Date(t).toISOString():null},this.asDateTime=function(t){return"string"==typeof t?l(t):t},this.xml2json=function(t){return d(t)},this.xml_str2json=function(t){var e=this.parseXmlString(t);return null!=e?this.xml2json(e):null},this.json2xml_str=function(t){return T(t,"")},this.json2xml=function(t){var e=this.json2xml_str(t);return this.parseXmlString(e)},this.getVersion=function(){return $}}}),function(){angular.module("myApp",["mainform","logtable","ngAnimate"]).run(["$http","$rootScope",function(t,e){e.authenticated=!0,e.authToken="test",e.startField="test",e.getLocation=function(){return"title"},e.doReset=function(){e.data=new Array}}]).config(["$httpProvider",function(t){t.defaults.withCredentials=!0}]).directive("elastic",["$timeout",function(t){return{restrict:"A",link:function(e,n){e.initialHeight=e.initialHeight||n[0].style.height;var r=function(){n[0].style.height=e.initialHeight,n[0].style.height=""+n[0].scrollHeight+"px"};n.on("input change",r),t(r,0)}}}])}(),angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){"use strict";return["$document","$window","$compile","$rootScope","$timeout",function(t,e,n,r,o){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=r.$new(),this.color="#0ED0FF",this.parent=t.find("body")[0],this.count=0,this.progressbarEl=n("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var t=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(t.count)?(clearInterval(t.intervalCounterId),t.count=0,t.hide()):(t.remaining=100-t.count,t.count=t.count+.15*Math.pow(1-Math.sqrt(t.remaining),2),t.updateCount(t.count))},200)},this.updateCount=function(t){this.$scope.count=t,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(t){return void 0!==t&&(this.height=t,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(t){return void 0!==t&&(this.color=t,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var t=this;t.animate(function(){t.progressbarEl.children().css("width","0%"),t.animate(function(){t.show()},500)},500)},this.show=function(){var t=this;t.animate(function(){t.progressbarEl.children().css("opacity","1")},100)},this.animate=function(t,e){void 0!==this.animation&&o.cancel(this.animation),this.animation=o(t,e)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(t){return this.show(),this.updateCount(t),this.count=t,clearInterval(this.intervalCounterId),this.count},this.css=function(t){return this.progressbarEl.children().css(t)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var t=this;return clearInterval(this.intervalCounterId),o(function(){t.hide(),o(function(){t.count=0,t.updateCount(t.count)},500)},1e3),this.count},this.setParent=function(t){if(null===t||void 0===t)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=t,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function(t,e){var n={createInstance:function(){return t.instantiate(e)}};return n}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function(t,e){var n={replace:!0,restrict:"E",link:function(t,e,n,r){t.$watch("count",function(n){void 0===n&&null===n||(t.counter=n,e.eq(0).children().css("width",n+"%"))}),t.$watch("color",function(n){void 0===n&&null===n||(t.color=n,e.eq(0).children().css("background-color",n),e.eq(0).children().css("color",n))}),t.$watch("height",function(n){void 0===n&&null===n||(t.height=n,e.eq(0).children().css("height",n))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return n}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"]),angular.module("toaster",["ngAnimate"]).service("toaster",["$rootScope",function(t){this.pop=function(e,n,r,o,i){this.toast={type:e,title:n,body:r,timeout:o,bodyOutputType:i},t.$broadcast("toaster-newToast")},this.popSimple=function(t,e,n,r){this.pop(t,e,n,r,"trustedHtml")},this.clear=function(){t.$broadcast("toaster-clearToasts")}}]).constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message"}).directive("toasterContainer",["$compile","$timeout","$sce","toasterConfig","toaster",function(t,e,n,r,o){return{replace:!0,restrict:"EA",link:function(t,i,s){function a(e){switch(e.type=u["icon-classes"][e.type],e.type||(e.type=u["icon-class"]),c++,angular.extend(e,{id:c}),e.bodyOutputType=e.bodyOutputType||u["body-output-type"],e.bodyOutputType){case"trustedHtml":e.html=n.trustAsHtml(e.body);break;case"template":e.bodyTemplate=e.body||u["body-template"]}t.configureTimer(e),u["newest-on-top"]===!0?(t.toasters.unshift(e),u.limit>0&&t.toasters.length>u.limit&&t.toasters.pop()):(t.toasters.push(e),u.limit>0&&t.toasters.length>u.limit&&t.toasters.shift())}function l(n,r){n.timeout=e(function(){t.removeToast(n.id)},r)}var c=0,u=r;s.toasterOptions&&angular.extend(u,t.$eval(s.toasterOptions)),t.config={position:u["position-class"],title:u["title-class"],message:u["message-class"],tap:u["tap-to-dismiss"]},t.configureTimer=function(t){var e="number"==typeof t.timeout?t.timeout:u["time-out"];e>0&&l(t,e)},t.toasters=[],t.$on("toaster-newToast",function(){a(o.toast)}),t.$on("toaster-clearToasts",function(){t.toasters.splice(0,t.toasters.length)})},controller:["$scope","$element","$attrs",function(t,n,r){t.stopTimer=function(t){t.timeout&&(e.cancel(t.timeout),t.timeout=null)},t.restartTimer=function(e){e.timeout||t.configureTimer(e)},t.removeToast=function(e){var n=0;for(n;n<t.toasters.length&&t.toasters[n].id!==e;n++);t.toasters.splice(n,1)},t.remove=function(e){t.config.tap===!0&&t.removeToast(e)}}],template:'<div  id="toast-container" ng-class="config.position"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="remove(toaster.id)" ng-mouseover="stopTimer(toaster)"  ng-mouseout="restartTimer(toaster)"><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}]),function(){angular.module("logtable",["ngTable"]).directive("logtable",function(){return{restrict:"E",templateUrl:"partials/logtable.html",link:function(t,e,n){},controller:["$scope","$rootScope","NgTableParams","$filter","$timeout",function(t,e,n,r,o){t.total={},t.filters={package:"",level:"",miliseconds:"",timestamp:"",thread:"",class:"",method:"",message:"",exception:""},t.pagination={},t.pagination.currentPage=1,t.pagination.perPage=40,console.log("using data: ",e.data),t.tableParams=new n({page:t.pagination.currentPage,count:t.pagination.perPage,sorting:{package:"",level:"",miliseconds:"",timestamp:"desc",thread:"",class:"",method:"",message:"",exception:""},filter:t.filters},{filterOptions:{filterDelay:200},dataset:e.data}),e.$watch("data",function(){o(function(){t.tableParams.settings({dataset:e.data})},200)})}],controllerAs:"logtableCtrl"}})}(),function(){angular.module("mainform",["ngFileUpload"]).directive("mainform",function(){return{restrict:"E",templateUrl:"partials/mainform.html",controller:["$scope","$rootScope",function(t,e){t.uploadXmlFile=function(n){if(n&&(e.data=new Array,e.index=0,console.clear(),n&&n.length)){t.log="Processing "+n.length+" files.";for(var r=0;r<n.length;r++){var o=n[r];reader=new FileReader,reader.onloadend=function(o){t.log="Loaded "+r+"/"+n.length+" files.";var i="<xml>"+o.target.result+"</xml>",s=new X2JS,a=s.xml_str2json(i);if(console.log("length: ",a.xml.length),a.xml.record.length){console.log(a.xml.record.length+" rows");for(var l=0;l<a.xml.record.length;l++)a.xml.record[l].id=e.index,e.data.push(a.xml.record[l]),e.index++}else console.log("1 row"),a.xml.record.id=e.index,e.data.push(a.xml.record),e.index++;console.log("loaded: ",e.data),console.log("have this many results: ",e.data.length)},reader.readAsBinaryString(o)}}},t.$watch("files",function(){t.uploadXmlFile(t.files)}),t.$watch("file",function(){null!=t.file&&(t.files=[t.file])}),t.log=""}],controllerAs:"mainformCtrl"}})}(),function(){angular.module("sidebar",[]).directive("sidebar",function(){return{restrict:"E",templateUrl:"partials/sidebar.html",link:function(t,e,n){},controller:["$scope",function(t){t.doLogin=function(t){}}],controllerAs:"sidebarCtrl"}})}(),function(){angular.module("Data",["ngProgress"]).factory("Data",["$http","ngProgressFactory","$rootScope","$q",function(t,e,n,r){var o=(new Date).getTime();o="?&i="+o;var i=e.createInstance();i.queue=0,i.updateQueue=function(t){var e=!0;if(0==i.queue&&(e=!1),i.queue=i.queue+t,i.queue>0)if(e){if(1!=i.queue){var n=100/i.queue;i.set(n),i.start()}}else i.start();else i.complete()};var s={},a="API/";return s.handleError=function(t){"undefined"!=typeof t.data&&t.data?(console.log("POST failed",t),console.log(t.data.status+" : "+t.data.message+" : "+t.data.cause),n.hasError=!0,n.error={status:t.data.status,message:t.data.message,cause:t.data.cause}):(n.hasError=!0,n.error={status:-1,message:"uncaught exception",cause:"check that the URL is correct and that the server is reachable."})},s.get=function(e,r,o){return i.updateQueue(1),t({method:"GET",headers:r,url:e+o}).catch(function(t){s.handleError(t)}).then(function(t){return i.updateQueue(-1),console.log("post results: ",t),"undefined"==typeof t?n.error:t})},s.post=function(e,r,o){return i.updateQueue(1),t({method:"POST",headers:o,url:e,data:r}).catch(function(t){console.log("POST failure",t),s.handleError(t)}).then(function(t){return i.updateQueue(-1),console.log("post results: ",t),"undefined"==typeof t?n.error:t})},s.delete=function(e,n){return i.updateQueue(1),t({method:"DELETE",headers:n,url:e}).then(function(t){return i.updateQueue(-1),console.log("DELETE results: "),console.log(t),t})},s.put=function(e,n){return t.put(a+e,n).then(function(t){return console.log("put: "+JSON.stringify(t.data)),t.data})},s}])}();